<div class="container mat-elevation-z8">
    <h1 class="full-width" >Atualizar Chamado</h1>

    <form class="form">
        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Titulo do chamado</mat-label>
          <input matInput [formControl]="titulo" required="true" [(ngModel)]="chamado.titulo" name="titulo">
        </mat-form-field>
    </form>

    <div class="status-prioridades">
        <mat-form-field appearance="outline">
            <mat-label>{{ retornaStatus(chamado.status) }}</mat-label>
            <mat-select [formControl]="status" required="true" [(ngModel)]="chamado.status" name="status">
                <mat-option value="0">ABERTO</mat-option>
                <mat-option value="1">EM ANDAMENTO</mat-option>
                <mat-option value="2">ENCERRADO</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>{{ retornaPrioridade(chamado.prioridade) }}</mat-label>
            <mat-select [formControl]="prioridade" required="true" [(ngModel)]="chamado.prioridade" name="prioridade">
                <mat-option value="0">BAIXA</mat-option>
                <mat-option value="1">MEDIA</mat-option>
                <mat-option value="2">ALTA</mat-option>
            </mat-select>
        </mat-form-field>
    </div> 
    
    <div class="tenico">
        <mat-form-field appearance="outline" class="full-width">
            <mat-label>{{ chamado.nomeTecnico }}</mat-label>
            <mat-select [formControl]="tecnico" required="true" [(ngModel)]="chamado.tecnico" name="tecnico">
                <mat-option *ngFor="let tec of tecnicos" value="{{ tec.id }}">{{ tec.nome }}</mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div class="cliente">
        <mat-form-field appearance="outline" class="full-width">
            <mat-label>{{ chamado.nomeCliente }}</mat-label>
            <mat-select [formControl]="cliente" required="true" [(ngModel)]="chamado.cliente" name="cliente">
                <mat-option *ngFor="let cli of clientes" value="{{ cli.id }}">{{ cli.nome }}</mat-option>
            </mat-select>
        </mat-form-field>
    </div>

    <form class="form">
        <mat-form-field class="full-width">
          <mat-label>Deixe uma descrição</mat-label>
          <textarea matInput [formControl]="descricao" required="true" [(ngModel)]="chamado.observacoes" name="observacoes"></textarea>
        </mat-form-field>
    </form>
    <button [disabled]="!validarCampos()" (click)="update()" mat-raised-button color="primary" class="full-width">Atualizar</button>
    <button mat-stroked-button color="warn" routerLink="../../" class="full-width">Cancelar</button>
</div>